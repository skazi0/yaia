<h1>{{title}}</h1>
<form ng-submit="save()">
  <h3>Customer
    <div class="btn btn-default collapse-btn">
      <span ng-click="customerSelectOpen=!customerSelectOpen"><i class="glyphicon glyphicon-th-list"></i> Select</span>
      <div ng-collapse="!customerSelectOpen" collapse-options="{horizontal: true, duration: '0.1s'}" class="collapse-inline">
        <ui-select ng-model="selectedCustomer.item" on-select="fillCustomer($item, $model)">
          <ui-select-match placeholder="Customer for this invoice...">{{$select.selected.name}}</ui-select-match>
          <ui-select-choices repeat="customer in customers | filter: $select.search" refresh="loadCustomers()" refresh-delay="0">
             <div ng-bind-html="trustAsHtml((customer.name | highlight: $select.search))"></div>
          </ui-select-choices>
        </ui-select>
      </div>
    </div>
  </h3>
  <div class="row">
    <div class="form-group col-md-7">
      <input type="text" class="form-control" id="name" placeholder="Name of the customer" ng-model="invoice.customer_name">
    </div>
    <div class="form-group col-md-4">
      <input type="text" class="form-control" id="taxid" placeholder="Legal ID of the customer (e.g. VAT ID)" ng-model="invoice.customer_tax_id">
    </div>
  </div>
  <div class="row">
    <div class="form-group col-md-4">
      <textarea class="form-control" id="invoicing_address" rows="3" placeholder="Address to be placed on invoice" ng-model="invoice.customer_invoicing_address"></textarea>
    </div>
    <div class="form-group col-md-4">
      <textarea class="form-control" id="shipping_address" rows="3" placeholder="Address to be used for shipping" ng-model="invoice.customer_shipping_address"></textarea>
    </div>
    <div class="form-group col-md-3">
      <input type="text" class="form-control" id="contact_person" placeholder="Name of the contact person" ng-model="invoice.customer_contact_person">
    </div>
    <div class="form-group col-md-3">
      <input type="email" class="form-control" id="email" placeholder="Email address" ng-model="invoice.customer_email">
    </div>
  </div>
  <h3>Items</h3>
  <div>TODO: main invoice part will go here</div>
  <h3>Terms and Conditions</h3>
  <div class="row">
    <div class="form-group col-md-10">
      <textarea class="form-control" id="terms" rows="3" placeholder="Invoice specific text" ng-model="invoice.terms"></textarea>
    </div>
  </div>
  <button type="submit" class="btn btn-primary">Save</button>
  <button type="button" class="btn btn-danger pull-right" ng-click="remove()" ng-show="invoice.id"><i class="glyphicon glyphicon-remove"></i> Delete</button>
</form>
